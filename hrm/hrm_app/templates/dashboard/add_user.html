{% extends 'base.html' %}
{% load static %}
{% block title %}HRM-DASHBOARD{% endblock %}
{% block content %}

<div class="admin-profile-container mt-5">
  <div class="profile-header d-flex justify-content-between align-items-center text-white p-3 rounded">
    <h2 class="mb-0">Add New User</h2>
    <a href="{% url 'teammanagement' %}" class="btn btn-light btn-sm">Back to Users</a>
  </div>

  <div class="profile-body p-4 bg-white shadow rounded mt-3">

    <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
      {% csrf_token %}

      <div class="text-center mb-4">
        <div class="profile-picture">
          <img src="{% static 'default.jpg' %}" alt="Default Profile Picture" class="img-thumbnail rounded-circle"
            style="width: 120px; height: 120px;">
        </div>
      </div>

      <!-- Render form fields -->
      <div class="form-group mb-3">
        {{ form.usergroup.label_tag }}
        {{ form.usergroup }}
        {% for error in form.usergroup.errors %}
        <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      <div class="form-group mb-3">
        {{ form.name.label_tag }}
        {{ form.name }}
        {% for error in form.name.errors %}
        <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      <div class="form-group mb-3">
        {{ form.email.label_tag }}
        {{ form.email }}
        {% for error in form.email.errors %}
        <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      <div class="form-group mb-3">
        {{ form.username.label_tag }}
        {{ form.username }}
        {% for error in form.username.errors %}
        <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      <div class="form-row">
        <div class="form-group col-md-6 mb-3">
          {{ form.password1.label_tag }}
          {{ form.password1 }}
          {% for error in form.password1.errors %}
          <div class="invalid-feedback d-block">{{ error }}</div>
          {% endfor %}
        </div>
        <div class="form-group col-md-6 mb-3">
          {{ form.password2.label_tag }}
          {{ form.password2 }}
          {% for error in form.password2.errors %}
          <div class="invalid-feedback d-block">{{ error }}</div>
          {% endfor %}
        </div>
      </div>

      <div class="form-group mb-4">
        {{ form.image.label_tag }}
        {{ form.image }}
        {% for error in form.image.errors %}
        <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      <div class="form-actions text-center">
        <button type="submit" class="btn btn-primary px-4">Create User</button>
        <a href="{% url 'teammanagement' %}" class="btn btn-secondary px-4">Cancel</a>
      </div>

    </form>
  </div>
</div>

{% endblock %}
